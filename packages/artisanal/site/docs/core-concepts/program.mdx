# Program

The `Program` is the runtime that manages the event loop, handles input/output, and coordinates the Model-Update-View cycle.

## Running a Program

The easiest way to start an Artisanal application is using the `runProgram` helper:

```dart
void main() async {
  await runProgram(MyModel());
}
```

## Program Options

You can customize the program's behavior using `ProgramOptions`:

```dart
await runProgram(
  MyModel(),
  options: ProgramOptions(
    altScreen: true,      // Use the alternate screen buffer
    mouseSupport: true,   // Enable mouse event tracking
    fps: 60,              // Set the target frames per second
  ),
);
```

## Lifecycle

1. **Initialization**: The program calls `model.init()` and executes the returned command.
2. **Event Loop**:
   - The program waits for input events (keys, mouse, resize).
   - Events are converted to `Msg` objects.
   - `model.update(msg)` is called.
   - If a `Cmd` is returned, it is executed asynchronously.
   - If the model changes, `model.view()` is called and the terminal is updated.
3. **Termination**: The program exits when a `Cmd.quit()` is processed or an unhandled error occurs.

## Advanced Usage

For more control, you can instantiate the `Program` class directly:

```dart
final program = Program(MyModel());
await program.run();
```
