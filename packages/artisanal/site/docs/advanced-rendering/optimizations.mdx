# Optimizations

Ultraviolet (UV) employs several optimization techniques to ensure smooth and efficient rendering, even on slow terminal connections.

## Buffer Diffing

UV compares the "next" buffer with the "current" buffer and only generates ANSI sequences for the cells that have actually changed. This significantly reduces the amount of data sent to the terminal.

## Cursor Movement Optimization

Instead of moving the cursor to every changed cell, UV calculates the most efficient way to reach the next change. It might use:
- Relative movement (e.g., `\x1b[C` for right).
- Absolute movement (e.g., `\x1b[10;5H`).
- Carriage return (`\r`) to jump to the start of the line.

## Scroll Detection

UV can detect when a block of lines has been shifted up or down (e.g., during scrolling). Instead of re-rendering all those lines, it uses terminal scrolling commands (`IL` - Insert Line, `DL` - Delete Line) to move the existing content on the screen.

## Style Minimization

UV tracks the current terminal style (colors, bold, etc.) and only sends style change sequences when the style actually changes between cells.

## Frame Rate Limiting

The `Program` runtime can be configured with a target FPS (default is 60). This prevents the application from consuming excessive CPU by rendering more frames than necessary.

```dart file=../../../example/tui/counter.dart#fps_optimization_usage
```
