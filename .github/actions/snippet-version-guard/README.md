# Snippet Version Guard Action

Reusable GitHub Action that scans docs/readmes for dependency version snippets
and compares them to versions declared in package manifests.

## Usage

```yaml
jobs:
  snippet-versions:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - id: check
        uses: RoutedDart/ormed/.github/actions/snippet-version-guard@main
        with:
          package-name-regex: "^ormed"
          fail-on-drift: "false" # advisory mode

      - name: Summary
        run: |
          echo "status=${{ steps.check.outputs.status }}"
          echo "outdated=${{ steps.check.outputs.outdated_count }}"
          cat "${{ steps.check.outputs.report_file }}"
```

## Inputs

- `root`: repository root to scan (default `.`)
- `report-file`: markdown report output path (default `snippet-version-report.md`)
- `report-title`: report heading text (default `Outdated snippet references`)
- `fail-on-drift`: if `true`, exits non-zero when drift exists (default `false`)
- `package-name-regex`: package name filter regex (default `^ormed`)
- `package-manifest-globs`: newline-separated manifest globs
- `target-globs`: newline-separated snippet file globs

## Outputs

- `status`: `clean` or `outdated`
- `outdated_count`: number of drift entries
- `report_file`: absolute report path generated by the script
