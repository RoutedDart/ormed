---
sidebar_position: 2
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Quick Start

This guide will walk you through creating a simple Ormed application with a User model.

## Scaffold the Project (CLI)

From your app root:

```bash
dart run ormed_cli:ormed init
```

This creates:
- `lib/src/database/config.dart` (runtime datasource options)
- `lib/src/database/datasource.dart` (DataSource entrypoint)
- `lib/src/database/migrations.dart` (registry)  
- `lib/src/database/seeders.dart` and `seeders/database_seeder.dart`

Optional:
- `ormed.yaml` when you run `dart run ormed_cli:ormed init --with-config`

Generated starter files:

<Tabs groupId="quickstart-generated-files" defaultValue="config">
  <TabItem value="config" label="config.dart">

Generated runtime config (code-first default):

```dart file=../../examples/lib/src/database/config.dart
```

  </TabItem>
  <TabItem value="datasource" label="datasource.dart">

The recommended entrypoint for your application. It uses generated config helpers and works for both single and multi-connection scaffolds.

```dart file=../../examples/lib/src/database/datasource.dart
```

  </TabItem>
  <TabItem value="ormed-yaml" label="ormed.yaml (optional)">

Use this when you want explicit CLI connection blocks or multi-connection definitions:

```yaml file=../../examples/ormed.yaml
```

  </TabItem>
  <TabItem value="migrations" label="migrations.dart">

These are the three pieces the CLI maintains: imports, the entry list, and `buildMigrations()`.

```dart file=../../examples/lib/src/database/migrations.dart#migrations-registry-imports
```

```dart file=../../examples/lib/src/database/migrations.dart#migrations-registry-entries
```

```dart file=../../examples/lib/src/database/migrations.dart#migrations-registry-build
```

  </TabItem>
  <TabItem value="seeders" label="seeders.dart">

Seed registries follow the same pattern: imports + registrations + a runnable entrypoint.

```dart file=../../examples/lib/src/database/seeders.dart#seed-registry-imports
```

```dart file=../../examples/lib/src/database/seeders.dart#seed-registry-entries
```

```dart file=../../examples/lib/src/database/seeders.dart#seed-registry-run
```

```dart file=../../examples/lib/src/database/seeders.dart#seed-registry-main
```

  </TabItem>
</Tabs>

## Create Your Model

Create `lib/src/models/user.dart`:

```dart file=../../examples/lib/models/user.dart#basic-model
```

## Generate ORM Code

Run the build runner:

```bash
dart run build_runner build
```

This creates `user.orm.dart` with the generated `$User` class and helpers.

## Create a Migration

Create a migration for your table:

```bash
dart run ormed_cli:ormed make --name create_users_table --create --table users
```

Edit the generated file in `lib/src/database/migrations/` to add columns:

```dart
void up(SchemaBuilder schema) {
  schema.create('users', (table) {
    table.id();
    table.string('name');
    table.string('email').unique();
    table.timestamps();
  });
}
```

Apply the migration:

```bash
dart run ormed_cli:ormed migrate
```

## Seed the Database

Create a seeder:

```bash
dart run ormed_cli:ormed make --name UserSeeder --seeder
```

Add data in `lib/src/database/seeders/user_seeder.dart`:

```dart
Future<void> run() async {
  await seed<User>([
    {'name': 'John Doe', 'email': 'john@example.com'},
  ]);
}
```

Run the seeders:

```bash
dart run ormed_cli:ormed seed
```

## Set Up the Database (SQLite)

<Tabs groupId="quickstart-sqlite" defaultValue="setup">
  <TabItem value="setup" label="Setup">

In your application code, use the generated `createDataSource()` helper to initialize the ORM.

```dart
import 'package:ormed/ormed.dart';
import 'src/database/datasource.dart'; // Generated by ormed init

void main() async {
  // 1. Create the DataSource using generated runtime options
  final ds = createDataSource();

  // 2. Initialize connections
  await ds.init();

  // 3. Query your models
  final users = await ds.query<User>().get();
  print('Found ${users.length} users');
}
```

  </TabItem>
  <TabItem value="crud" label="CRUD">

Use the generated tracked model (`$User`) with the repository and query builder:

```dart file=../../examples/lib/setup.dart#quickstart-crud
```

  </TabItem>
</Tabs>

## Run Your App

```bash
dart run lib/main.dart
```

Output:
```
Created user: 1
Found users: 1
Updated name: John Smith
User deleted
```

## Next Steps

- [Defining Models](../models/defining-models) - Learn about model annotations and fields
- [Query Builder](../queries/query-builder) - Master the fluent query API
- [Repository Pattern](../queries/repository) - CRUD operations with flexible inputs
- [Migrations](../migrations/overview) - Schema management and versioning
