---
sidebar_position: 3
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Timestamps

Ormed provides automatic timestamp management for `created_at` and `updated_at` columns.

## Enabling Timestamps

Add the `Timestamps` marker mixin to your model:

```dart file=../../examples/lib/models/timestamp_model.dart#timestamps-model

```

The code generator detects this mixin and:
- Adds virtual `createdAt` and `updatedAt` fields if not explicitly defined
- Applies timestamp implementation to the generated tracked class
- Automatically sets timestamps on insert/update operations

## Timezone-Aware Timestamps

For timestamps stored in UTC, use `TimestampsTZ`:

```dart file=../../examples/lib/models/timestamp_model.dart#timestamps-tz

```

This ensures:
- All timestamps are converted to UTC before storage
- Timestamps remain in UTC when retrieved
- Your application handles timezone conversion for display

## Migration Setup

Add timestamp columns in your migration:

<Tabs groupId="timestamps-migration" defaultValue="notes">
  <TabItem value="notes" label="Notes">

If you use `Timestamps`/`TimestampsTZ`, keep the schema column names aligned with your model configuration.

  </TabItem>
  <TabItem value="code" label="Code">

```dart file=../../examples/lib/migrations/basic.dart#timestamps-migration

```

  </TabItem>
</Tabs>

## Custom Column Names

By default, Ormed uses `created_at` and `updated_at`. These can be customized via model configuration if needed.

## Behavior

### On Insert

- `created_at` is set to the current timestamp
- `updated_at` is set to the current timestamp

### On Update

- `updated_at` is automatically updated
- `created_at` remains unchanged

### Manual Control

You can manually set timestamps if needed:

```dart file=../../examples/lib/models/timestamp_model.dart#timestamps-manual
```

## Without Timestamps

If you don't need automatic timestamps, simply don't include the mixin:

```dart file=../../examples/lib/models/log_model.dart#no-timestamps-model

```
