---
sidebar_position: 2
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Schema Builder

The Schema Builder provides a fluent API for defining table structures in a database-agnostic way.

:::note Snippet context
Snippets show only the Schema Builder calls. Driver selection and migration execution are covered in the migrations guides.
:::

## Creating Tables

Use `schema.create()` to define a new table:

```dart file=../../examples/lib/schema/schema_builder.dart#schema-create
```

## Column Types

<Tabs groupId="schema-column-types" defaultValue="primary-keys">
  <TabItem value="primary-keys" label="Primary Keys">

```dart file=../../examples/lib/schema/schema_builder.dart#schema-primary-keys
```

  </TabItem>
  <TabItem value="strings" label="Strings">

```dart file=../../examples/lib/schema/schema_builder.dart#schema-strings
```

  </TabItem>
  <TabItem value="numbers" label="Numbers">

```dart file=../../examples/lib/schema/schema_builder.dart#schema-numbers
```

  </TabItem>
  <TabItem value="dates" label="Dates & Times">

```dart file=../../examples/lib/schema/schema_builder.dart#schema-dates
```

  </TabItem>
  <TabItem value="bool-binary" label="Boolean & Binary">

```dart file=../../examples/lib/schema/schema_builder.dart#schema-bool-binary
```

  </TabItem>
  <TabItem value="json" label="JSON">

```dart file=../../examples/lib/schema/schema_builder.dart#schema-json
```

  </TabItem>
</Tabs>

## Column Modifiers

Chain modifiers to customize column behavior:

```dart file=../../examples/lib/schema/schema_builder.dart#schema-modifiers
```

## Timestamps & Soft Deletes

```dart file=../../examples/lib/schema/schema_builder.dart#schema-timestamps
```

## Indexes

```dart file=../../examples/lib/schema/schema_builder.dart#schema-indexes
```

## Foreign Keys

<Tabs groupId="schema-foreign-keys" defaultValue="reference">
<TabItem value="reference" label="Reference actions">

### Reference Actions

- `ReferenceAction.cascade` - Delete/update child rows
- `ReferenceAction.restrict` - Prevent if children exist
- `ReferenceAction.setNull` - Set foreign key to NULL
- `ReferenceAction.noAction` - No action (check deferred)

</TabItem>
<TabItem value="code" label="Code">

```dart file=../../examples/lib/schema/schema_builder.dart#schema-foreign-keys
```

</TabItem>
</Tabs>

## Altering Tables

Use `schema.table()` to modify existing tables:

<Tabs groupId="schema-alter" defaultValue="up">
  <TabItem value="up" label="Up">

```dart file=../../examples/lib/schema/schema_builder.dart#schema-alter-up
```

  </TabItem>
  <TabItem value="down" label="Down (rollback)">

```dart file=../../examples/lib/schema/schema_builder.dart#schema-alter-down
```

  </TabItem>
</Tabs>

## Dropping Tables

```dart file=../../examples/lib/schema/schema_builder.dart#schema-drop-rename
```

## Driver-Specific Overrides

Customize schema for different databases:

<Tabs groupId="schema-driver-overrides" defaultValue="notes">
<TabItem value="notes" label="Notes">

Use this to conditionally apply types or modifiers that vary by database.

</TabItem>
<TabItem value="code" label="Code">

```dart file=../../examples/lib/schema/schema_builder.dart#schema-driver-overrides
```

</TabItem>
</Tabs>
