---
sidebar_position: 1
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Testing

Ormed provides comprehensive testing facilities for isolated, reliable database tests.

## Core Setup

<Tabs groupId="testing-core" defaultValue="basic">
  <TabItem value="basic" label="Basic">

Create a fresh DataSource for each test suite.

```dart file=../../examples/lib/testing/testing.dart#testing-basic-setup
```

  </TabItem>
  <TabItem value="in-memory" label="SQLite in-memory">

Fast, isolated tests.

```dart file=../../examples/lib/testing/testing.dart#testing-in-memory
```

  </TabItem>
  <TabItem value="seeders" label="Seeders">

Define a seeder class for consistent test data.

```dart file=../../examples/lib/testing/testing.dart#testing-seeder
```

  </TabItem>
  <TabItem value="real-db" label="Real DB">

Integration tests with SQLite on disk.

```dart file=../../examples/lib/testing/testing.dart#testing-real-db
```

  </TabItem>
  <TabItem value="migration-harness" label="Migrations">

Migration-aware test harness.

```dart file=../../examples/lib/testing/testing.dart#testing-migration-harness
```

  </TabItem>
</Tabs>

## Static Helpers in Tests

Set a default DataSource for `Model` static helpers:

```dart file=../../examples/lib/testing/testing.dart#testing-static-helpers
```

## Testing Relations

Ensure all related entities are registered:

```dart file=../../examples/lib/testing/testing.dart#testing-relations
```

## Parallel Testing

For parallel test execution without conflicts:

```dart file=../../examples/lib/testing/testing.dart#testing-parallel
```

## Best Practices

### Use SQLite In-Memory for Unit Tests

```dart file=../../examples/lib/testing/testing.dart#testing-best-practices-in-memory
```

### Use Real Databases for Integration Tests

```dart file=../../examples/lib/testing/testing.dart#testing-best-practices-real-db
```

### Keep Tests Isolated

```dart file=../../examples/lib/testing/testing.dart#testing-keep-isolated
```

### Use Factories for Test Data

```dart file=../../examples/lib/testing/testing.dart#testing-factories
```

### Test Both Success and Failure Cases

```dart file=../../examples/lib/testing/testing.dart#testing-success-failure
```

## Example Test Suite

<Tabs groupId="testing-suite" defaultValue="setup">
  <TabItem value="setup" label="Setup">

```dart file=../../examples/lib/testing/testing.dart#testing-example-suite-setup
```

  </TabItem>
  <TabItem value="tests" label="Tests">

```dart file=../../examples/lib/testing/testing.dart#testing-example-suite-tests
```

  </TabItem>
  <TabItem value="teardown" label="Tear Down">

```dart file=../../examples/lib/testing/testing.dart#testing-example-suite-teardown
```

  </TabItem>
</Tabs>
