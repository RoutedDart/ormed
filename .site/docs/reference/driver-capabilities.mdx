---
sidebar_position: 6
---

# Driver Capabilities

Ormed supports multiple database drivers (SQLite, PostgreSQL, MySQL), but not all databases support the same features. The Driver Capabilities system allows you to query what features are available at runtime.

## Prerequisites

- [Drivers Overview](../drivers/overview)
- [Query Builder](../queries/query-builder)

## What Youâ€™ll Learn

- How to detect driver feature support at runtime
- How to build cross-driver-safe query and migration logic
- How to gate tests by driver capability flags

## Overview

Drivers advertise supported features via `DriverAdapter.capabilities` and `supportsCapability(...)`. Use this to:

- Guard optional features (e.g. `returning`, `rawSQL`, `schemaIntrospection`)
- Skip incompatible tests in shared driver suites
- Provide fallbacks when a feature is unavailable

## Available Capabilities

```dart file=../../examples/lib/capabilities/driver_capabilities.dart#capability-enum
```

## Checking Capabilities at Runtime

```dart file=../../examples/lib/capabilities/driver_capabilities.dart#check-capabilities
```

## Driver-Specific Behavior

Different drivers can expose different capability sets. Prefer runtime checks over hard-coded assumptions.

## Writing Cross-Database Code

### Strategy 1: Capability Checks

```dart file=../../examples/lib/capabilities/driver_capabilities.dart#capability-checks-strategy
```

### Strategy 2: Prefer Query Builder Over Raw

The query builder API works across all drivers:

```dart file=../../examples/lib/capabilities/driver_capabilities.dart#query-builder-vs-raw
```

### Strategy 3: Feature Detection

```dart file=../../examples/lib/capabilities/driver_capabilities.dart#feature-detection-strategy-select
```

## Testing Across Drivers

### Skipping Incompatible Tests

```dart file=../../examples/lib/capabilities/driver_capabilities.dart#skip-incompatible-tests
```

## Migration Considerations

### Conditional Migrations

```dart file=../../examples/lib/capabilities/driver_capabilities.dart#conditional-migrations
```

## Best Practices

### 1. Use Query Builder First

```dart file=../../examples/lib/capabilities/driver_capabilities.dart#best-practice-query-builder
```

### 2. Check Capabilities, Don't Assume

```dart file=../../examples/lib/capabilities/driver_capabilities.dart#best-practice-check-capabilities
```

### 3. Document Driver Requirements

```dart file=../../examples/lib/capabilities/driver_capabilities.dart#document-driver-requirements
```

### 4. Fallback to Compatible Alternatives

```dart file=../../examples/lib/capabilities/driver_capabilities.dart#fallback-alternatives
```

## Summary

- **Driver capabilities** let you detect database feature support at runtime
- **Query builder API** provides maximum cross-database compatibility
- **Capability checks** enable graceful feature degradation
- For most applications, sticking to the standard query builder API provides excellent cross-database portability without manual capability checks
