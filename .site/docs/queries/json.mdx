---
sidebar_position: 6
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# JSON

Ormed has first-class JSON support across models and query builder APIs.

## Prerequisites

- [Query Builder](./query-builder)
- [Casting](../models/casting)

## What You’ll Learn

- How to query JSON fields with helper and selector syntax
- How JSON indexing and path semantics behave
- How to update JSON payloads through query and model workflows

Ormed supports:
- JSON fields on models via **casts / codecs**
- JSON path queries via `whereJson*` helpers
- JSON selector syntax using `->` / `->>` with `$.path` expressions
- JSON updates (set / patch) via query updates or tracked model helpers

:::note
These examples focus on JSON operations only. They assume you already have a working `DataSource`.
:::

## Model fields

```dart file=../../examples/lib/queries/json.dart#json-model-field
```

## Query JSON

In Dart strings, `$` is interpolation — if you write selectors with `$.path`, use raw strings (`r'...'`), or omit the `$` prefix (`metadata->>mode`).

Array indexes can be addressed as either:
- `items[0]` (explicit), or
- `items.0` (shorthand; normalized to `items[0]`)

If you need a numeric **object key**, use bracket quoting: `items["0"]`.

<Tabs groupId="json-query" defaultValue="helpers">
  <TabItem value="helpers" label="Helpers" default>
```dart file=../../examples/lib/queries/json.dart#json-where-json-helpers
```
  </TabItem>
  <TabItem value="selectors" label="Selector syntax">
```dart file=../../examples/lib/queries/json.dart#json-where-selector-syntax
```
  </TabItem>
  <TabItem value="indexing" label="Indexing">
```dart file=../../examples/lib/queries/json.dart#json-where-indexing
```
  </TabItem>
</Tabs>

## Update JSON

<Tabs groupId="json-update" defaultValue="query">
  <TabItem value="query" label="Query update" default>
```dart file=../../examples/lib/queries/json.dart#json-update-query
```
  </TabItem>
  <TabItem value="model" label="Tracked model">
```dart file=../../examples/lib/queries/json.dart#json-update-model
```
  </TabItem>
</Tabs>

## Read This Next

- [Query Builder](./query-builder)
- [Casting](../models/casting)
- [PostgreSQL Driver](../drivers/postgres)
