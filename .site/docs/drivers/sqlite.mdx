---
sidebar_position: 2
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# SQLite

SQLite is the default scaffold for new projects. It runs without external services and is great for local development, CLI tools, and fast integration tests.

## Install

Add the driver package:

```yaml
dependencies:
  ormed: ^latest
  ormed_sqlite: ^latest
```

## Configure (ormed.yaml)

```yaml
driver:
  type: sqlite
  options:
    database: database.sqlite   # relative to project root
    session:
      foreign_keys: true
      journal_mode: WAL
    init:
      - PRAGMA busy_timeout = 5000
```

## Use in code (DataSource)

The recommended way is to use the generated `createDataSource()` helper, but you can also initialize it manually:

<Tabs groupId="sqlite-usage" defaultValue="config">
  <TabItem value="config" label="From Config">

```dart
import 'package:ormed/ormed.dart';
import 'package:ormed_sqlite/ormed_sqlite.dart';

void main() async {
  ensureSqliteDriverRegistration();
  
  final config = loadOrmConfig();
  final ds = DataSource.fromConfig(config);
  await ds.init();
}
```

  </TabItem>
  <TabItem value="manual" label="Manual">

```dart file=../../examples/lib/drivers/sqlite.dart#sqlite-datasource
```

  </TabItem>
</Tabs>

## SQLite Migrations Helpers

Import the SQLite migrations entrypoint to use SQLite-specific column aliases:

```dart
import 'package:ormed_sqlite/migrations.dart';
```

Available helpers:
- `blob()` → BLOB (alias for `binary()`)
- `real()` → REAL (alias for `float()`)
- `numeric()` → NUMERIC (alias for `decimal()`)

### In-memory (tests)

```dart file=../../examples/lib/drivers/sqlite.dart#sqlite-inmemory
```

### Options

| Option | Type | Default | Description |
| --- | --- | --- | --- |
| `database` | `String` | `database.sqlite` | Path to the `.sqlite` file (relative to project root or absolute). |
| `path` | `String?` | — | Alias for `database` used by some programmatic helpers. |
| `memory` | `bool` | `false` | When true, connects to an in-memory database (tests / ephemeral usage). |
| `session` | `Map<String, Object?>` | `{}` | Session pragmas applied via `PRAGMA key = value`. |
| `init` | `List<String>` | `[]` | SQL statements executed after connecting. |

### Notes

- The adapter automatically enables `RETURNING` support and schema inspection.
- Migrations and seeds are configured separately in `ormed.yaml`. See Getting Started → Configuration.
- For plan/previews/schema internals, see Drivers → Internals.

## Extensions

Driver extensions let you register custom clause compilers for SQLite queries.

```dart file=../../examples/lib/drivers/extensions.dart#sqlite-extension-definition
```

```dart file=../../examples/lib/drivers/extensions.dart#sqlite-extension-usage
```
