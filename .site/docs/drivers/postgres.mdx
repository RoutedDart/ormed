---
sidebar_position: 3
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# PostgreSQL

Use PostgreSQL for production‑grade features (JSONB, window functions, robust constraints). Configure via URL or discrete fields.

## Install

Add the driver package:

```yaml
dependencies:
  ormed: ^latest
  ormed_postgres: ^latest
```

## Configure (orm.yaml)

<Tabs groupId="postgres-orm-yaml" defaultValue="url">
<TabItem value="url" label="URL">

```yaml
driver:
  type: postgres
  options:
    url: postgres://postgres:postgres@localhost:6543/orm_test
    sslmode: disable # disable | require | verify-full
    schema: public
```

</TabItem>
<TabItem value="fields" label="Fields">

```yaml
driver:
  type: postgres
  options:
    host: localhost
    port: 5432
    database: orm_test
    username: postgres
    password: postgres
    sslmode: disable # disable | require | verify-full
    schema: public
```

</TabItem>
</Tabs>

## Use in code (DataSource)

<Tabs groupId="postgres-datasource" defaultValue="url">
  <TabItem value="url" label="URL">

```dart file=../../examples/lib/drivers/postgres.dart#postgres-datasource-url
```

  </TabItem>
  <TabItem value="fields" label="Fields">

```dart file=../../examples/lib/drivers/postgres.dart#postgres-datasource-fields
```

  </TabItem>
</Tabs>

### Options

| Option | Type | Default | Description |
| --- | --- | --- | --- |
| `url` | `String?` | — | Full connection string. Aliases: `uri`, `dsn`. When set, it becomes the primary source for host/port/database/user/password and may also read `sslmode`, `timezone`, and `application_name` from the URL query parameters. |
| `host` | `String` | `localhost` | Database host (ignored when `url`/`uri`/`dsn` is set). |
| `port` | `int` | `5432` | Database port (ignored when `url`/`uri`/`dsn` is set). |
| `database` | `String` | connection name or `postgres` | Database name (ignored when `url`/`uri`/`dsn` is set). |
| `username` | `String` | `postgres` | Database username (ignored when `url`/`uri`/`dsn` is set). |
| `password` | `String?` | — | Database password. |
| `sslmode` | `String` | `disable` | TLS mode: `disable`, `require`, `verify-full`. |
| `connectTimeout` | `int?` (ms) | driver default | Socket connect timeout in milliseconds. |
| `statementTimeout` | `int?` (ms) | driver default | Server-side query timeout in milliseconds. |
| `timezone` | `String` | `UTC` | Session timezone. |
| `applicationName` | `String?` | — | Tags sessions for monitoring (`application_name` in URL query is also supported). |
| `schema` | `String` | `public` | Default schema used when qualifying tables for migrations/queries. |

### Notes

- Supports `RETURNING`, JSON/JSONB operators, window functions, and schema introspection.
- Migrations and seeds are configured separately in `orm.yaml`. See Getting Started → Configuration.
